# 硬盘

## 硬盘识别
`fdisk -l`

## 硬盘挂载
- 挂载失败的情况下清除分区
```
wipefs -a /dev/sdc
dd if=/dev/zero of=/dev/sdc bs=1M count=10
```
- 分区 
```
fdisk /dev/sdc
g        ← 使用 GPT 分区表（推荐，支持 >2TB）
n        ← 创建新分区
1        ← 分区号 1
[Enter]  ← 默认起始扇区
[Enter]  ← 默认结束扇区（整块硬盘）
w        ← 保存并退出
```
- 格式化 `mkfs.ext4 /dev/sdc1`
- 挂载
```
mkdir -p /mnt/fld
mount /dev/sdc1 /mnt/fld
blkid /dev/sdc1 -> UUID=xx
echo `UUID=xxx /mnt/fld ext4 defaults 0 2`
```


## 大于2TB的硬盘
不能使用fdisk，fdisk只能建立2TB大小，要采用GPT磁盘模式 `parted /dev/sdb`

- 进入后，转换为gpt分区 `mklabel gpt`;
设置分区 `mkpart [name] 1 -1`;
查看分区情况 `print` 并退出 `q`

查看磁盘分区 `blkid`

格式化为ext4格式 `mkfs.ext4 /dev/sdb1`

挂载到目录mnt下 `mount /dev/sdb1 /mnt/d2`

设置开机自动挂载 `echo "/dev/sdb1 /mnt/d2 ext4 defaults 0 0" >> /etc/fstab` 

查看已挂载的自盘信息 `df -h`

